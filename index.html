<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <style>
    #buttonid {
        
    }
    
    
    
    </style>
    <script>

    sum_of_grades = null;
    grades_array = [];
    highest = null;
    lowest = null
    var student_array = [];

    function averageGrade() {
        for (var i = 0; i < student_array.length; i++) {
            console.log('i'+ i);
            console.log('student_array[i].grade: '+ student_array[i].grade)
            grades_array.push(student_array[i].grade);
            sum_of_grades += parseFloat(student_array[i].grade);
            console.log('sum_of_grades'+ sum_of_grades);
        }
        console.log('grades_array: '+ grades_array);
        console.log('sorted grades array ' + grades_array.sort());
        highest = grades_array.sort()[grades_array.length - 1];
        lowest = grades_array.sort()[0];
        console.log("highest: "+ highest);

        console.log('lowest: '+ lowest);
        
        average_of_grades = sum_of_grades / student_array.length;
        sum_of_grades = null;
        highest_lowest=[];
        grades_array=[];
        console.log('average_of_grades: '+ average_of_grades);
        $('#grade_average > span').text(null);
      $('#grade_average > span').append(average_of_grades);
    };
    


            //containerinfo.append(name_output,course_output, grade_output);
            //$(".student_container").append(containerinfo);
        
        function add_studentinfo() {
        
        if (($("#student_grade").val() > 100) || ($("#student_grade").val() < 0)){
           alert('Enter a number between 0 and 100.');
              return;
            }
        if ($.isNumeric($("#student_grade").val()) == false){ 
              alert('Enter a number between 0 and 100.');
              return;
              }
        if ($("#student_course").val() == '' || $("#student_grade").val() == ''){
          alert('Enter a valid student name and course.');
              return;
            
        }
                        
        var new_student = {

            names: $("#student_name").val(),
            course: $("#student_course").val(),
            
            grade: $("#student_grade").val(),
             
            }
        

        student_array.push(new_student);  

        display_single_student(student_array[student_array.length-1]);

     
        
        averageGrade();
        
    }
    function display_all_students(){
      resetStudentContainer();
        for (var i = 0; i < student_array.length; i++) {

            display_single_student(student_array[i]);

            console.log("student_array=" + student_array[i]);
            

        }  
    }
    function display_single_student(student_object)
    {
        var newdiv = $('<div class="student_data" "col-sm-12">');
        var name_output = $('<span class="col-sm-6">').text(student_object.names);
        var course_output = $('<span class="col-sm-4">').text(student_object.course);
        var grade_output = $('<span class="col-sm-1">').text(student_object.grade);
        var delete_output = $('<button class="col-sm-1" id="buttonid">').text("Delete");
                
                newdiv.append(name_output, course_output, grade_output,delete_output);
                $('#student_info').append(newdiv);
        
          
    }

    function resetStudentContainer(){
            
            $('.student_data').remove();


        //containerinfo.append(name_output,course_output, grade_output);
        //$(".student_container").append(containerinfo);
    }
    </script>
</head>

<body>
    <section id="student_info">
        <div class="student_container">
            <span class="col-sm-6">Student Name</span>
            <span class="col-sm-4">Student Course</span>
            <span class="col-sm-1">Student Grade</span>
        </div>
    </section>
    <div id="grade_average" class="col-sm-2 col-sm-offset-10">Average: <span></span>
    </div>
    <section id="student_input">
        <input type="text" name="student_name" id="student_name" placeholder="Student Name">
        <input type="text" name="student_course" id="student_course" placeholder="Student Course">
        <input type="text" name="student_grade" id="student_grade" placeholder="Student Grade (0-100)">
        <button type="button" onclick="add_studentinfo()">Add Student</button>
        <!--<button type="button">Delete Student</button> -->
    </section>
</body>

</html>
